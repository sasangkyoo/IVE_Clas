# 📊 IVE 광고 분류기 Streamlit 앱

이 앱은 Google Gemini API를 사용하여 광고 텍스트를 분석하고 사전 정의된 스키마에 따라 분류하는 웹 애플리케이션입니다. 원본 `ad_classifier.py`와 동일한 분류 로직을 사용하지만, 웹 인터페이스를 통해 더 쉽게 사용할 수 있습니다.

## 🚀 주요 기능

- **인터랙티브 입력**: 웹 폼을 통해 광고 정보를 직접 입력
- **실시간 분류**: Google Gemini API를 사용한 AI 기반 광고 분류
- **사용자 지정 분류**: 광고 유형과 카테고리를 미리 지정하여 더 정확한 분류 가능
- **한국어 UI**: 모든 결과를 한국어로 표시하여 직관적인 이해 가능
- **상세한 결과 표시**: 동기, 참여도, 프로모션, 브랜드, 상거래 등 다양한 측면에서 분석
- **결과 다운로드**: JSON(영어) 및 CSV 형태로 분류 결과 다운로드 가능
- **상세한 데이터 구조 설명**: json_total.csv 테이블 구조에 대한 완전한 설명 포함
- **완전한 데이터 입력**: ads_idx, ads_code를 포함한 모든 필드 입력 지원
- **사용자 친화적 UI**: Streamlit 기반의 직관적인 웹 인터페이스

## 📋 분류 스키마

### 기본 분류
- **광고 유형 (ad_type)**: 1:설치형, 2:실행형, 3:참여형, 4:클릭형, 5:페북, 6:트위터, 7:인스타, 8:노출형, 9:퀘스트, 10:유튜브, 11:네이버, 12:CPS(물건구매)
- **광고 카테고리 (ad_type_category)**: 0:카테고리선택안함, 1:앱(간편적립), 2:경험하기(게임적립)/앱(간편적립), 3:구독(간편적립), 4:간편미션-퀴즈(간편적립), 5:경험하기(게임적립), 6:멀티보상(게임적립), 7:금융(참여적립), 8:무료참여(참여적립), 10:유료참여(참여적립), 11:쇼핑-상품별카테고리(쇼핑적립), 12:제휴몰(쇼핑적립), 13:간편미션(간편적립)
- **광고 테마 (ad_theme)**: 서사, 정서, 소구 포인트 태깅
- **타겟 연령 (target_age)**: all_ages, teens, twenties, thirties, forties, fifties
- **타겟 성별 (target_gender)**: male_focus, female_focus, neutral

### 🏷️ 광고 타입 및 카테고리 매핑

#### **광고 타입 (12개)**
- **1**: 설치형
- **2**: 실행형
- **3**: 참여형
- **4**: 클릭형
- **5**: 페북
- **6**: 트위터
- **7**: 인스타
- **8**: 노출형
- **9**: 퀘스트
- **10**: 유튜브
- **11**: 네이버
- **12**: CPS(물건구매)

#### **광고 카테고리 (13개)**
- **0**: 카테고리 선택안함
- **1**: 앱(간편적립)
- **2**: 경험하기(게임적립)/앱(간편적립) - cpi,cpe
- **3**: 구독(간편적립)
- **4**: 간편미션-퀘즈(간편적립)
- **5**: 경험하기(게임적립) - cpa
- **6**: 멀티보상(게임적립)
- **7**: 금융(참여적립)
- **8**: 무료참여(참여적립)
- **10**: 유료참여(참여적립)
- **11**: 쇼핑-상품별카테고리(쇼핑적립)
- **12**: 제휴몰(쇼핑적립)
- **13**: 간편미션(간편적립)

### 상세 분석
- **🎯 동기**: 재미, 소셜, 리워드, 절약, 신뢰, 편의성, 성장, 지위표시, 호기심, 습관형성, 안전망
- **🎮 참여도**: 캐주얼, 하드코어, 사용빈도, 멀티앱, 유지력, 세션길이
- **🎁 프로모션**: 설치리워드, 쿠폰이벤트, FOMO, 독점혜택, 체험경험
- **🏢 브랜드**: 브랜드충성도, 향수, 공식신뢰, 수상증명, 국내신뢰, 글로벌신뢰
- **💰 상거래**: 가격민감도, 프리미엄지불의향, 거래빈도, 위험감수성, 정기결제, 고액구매의도

## 🛠️ 설치 및 실행

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. API 키 설정
다음 중 하나의 방법으로 Gemini API 키를 설정하세요:

#### 방법 1: Streamlit Secrets 사용 (권장)
`.streamlit/secrets.toml` 파일을 생성하고:
```toml
GEMINI_API_KEY = "your_gemini_api_key_here"
```

#### 방법 2: 환경변수 사용
```bash
export GEMINI_API_KEY="your_gemini_api_key_here"
```

#### 방법 3: .env 파일 사용
`.env` 파일을 생성하고:
```
GEMINI_API_KEY=your_gemini_api_key_here
```

### 3. 앱 실행
```bash
streamlit run app.py
```

## 📖 사용 방법

1. **광고 정보 입력**: 
   - 광고 IDX, 광고 코드
   - 광고명 (필수)
   - 요약, 가이드, 제한사항
   - 리워드 가격
   - 연령 범위 (최소/최대)
   - 시작일/종료일
2. **광고 분류 정보 입력 (선택사항)**:
   - 광고 유형: 드롭다운에서 선택 (자동 분석, 1:설치형, 2:실행형, 3:참여형 등)
   - 광고 카테고리: 드롭다운에서 선택 (자동 분석, 0:카테고리선택안함, 1:앱(간편적립) 등)
3. **분류 실행**: "광고 분류하기" 버튼을 클릭하세요
4. **결과 확인**: 분류 결과를 한국어로 표시된 다양한 탭에서 확인할 수 있습니다
   - 🎯 동기: 재미, 소셜, 리워드 등
   - 🎮 참여도: 캐주얼, 하드코어, 사용빈도 등
   - 🎁 프로모션: 설치리워드, 쿠폰이벤트 등
   - 🏢 브랜드: 브랜드충성도, 향수 등
   - 💰 상거래: 가격민감도, 위험감수성 등
5. **결과 다운로드**: JSON(영어) 및 CSV 파일로 결과를 다운로드할 수 있습니다

## 🌏 한국어 UI 기능

이 앱은 사용자 친화적인 한국어 인터페이스를 제공합니다:

### **기본 정보 표시**
- **광고 유형**: "1" → "설치형", "game" → "게임"
- **타겟 연령**: "teens" → "10대", "adults" → "성인"
- **타겟 성별**: "male_focus" → "남성 중심", "neutral" → "전성별"
- **카테고리**: "1" → "앱(간편적립)", "2" → "경험하기(게임적립)/앱(간편적립)"
- **테마**: "fantasy" → "판타지", "competition" → "경쟁"

### **📊 분류 결과 데이터 구조**

이 앱은 광고를 분석하여 다음과 같은 상세한 데이터 구조로 결과를 제공합니다:

#### **🎯 동기 (Motivation) - 0.0 ~ 1.0 점수**
사용자가 광고에 반응하는 심리적 동기를 분석합니다:
- **재미 (fun)**: 게임이나 엔터테인먼트 요소에 대한 관심도
- **소셜 (social)**: 친구들과 공유하거나 소통하고 싶은 욕구
- **리워드 (rewards)**: 포인트나 혜택을 받고 싶은 욕구
- **절약 (savings)**: 돈을 절약하고 싶은 욕구
- **신뢰 (trust)**: 안전하고 신뢰할 수 있는 서비스에 대한 선호
- **편의성 (convenience)**: 간편하고 쉬운 사용에 대한 선호
- **성장 (growth)**: 개인적 발전이나 학습에 대한 욕구
- **지위표시 (status_display)**: 사회적 지위나 인정받고 싶은 욕구
- **호기심 (curiosity)**: 새로운 것을 탐험하고 싶은 욕구
- **습관형성 (habit_building)**: 규칙적인 행동 패턴 형성에 대한 선호
- **안전망 (safety_net)**: 위험을 피하고 안전을 추구하는 욕구

#### **🎮 참여도 (Engagement) - 0.0 ~ 1.0 점수**
사용자의 앱 사용 패턴과 참여 수준을 분석합니다:
- **캐주얼 (casual_score)**: 가벼운 앱 사용 선호도
- **하드코어 (hardcore_score)**: 깊이 있는 앱 사용 선호도
- **사용빈도 (frequency_score)**: 자주 사용할 앱에 대한 선호도
- **멀티앱 (multi_app_usage)**: 여러 앱을 동시에 사용하는 성향 (0 또는 1)
- **유지력 (retention_potential)**: 오래 사용할 앱에 대한 선호도
- **세션길이 (session_length_expectation)**: 'short', 'medium', 'long' 중 하나

#### **🎁 프로모션 (Promotion) - 0.0 ~ 1.0 점수**
다양한 프로모션 요소에 대한 반응도를 분석합니다:
- **설치리워드 (install_reward_sensitive)**: 앱 설치 시 리워드에 대한 민감도
- **쿠폰이벤트 (coupon_event_sensitive)**: 쿠폰이나 이벤트에 대한 민감도
- **FOMO (fomo_sensitive)**: 놓칠 수 있다는 불안감에 대한 민감도
- **독점혜택 (exclusive_benefit_sensitive)**: 특별한 혜택에 대한 민감도
- **체험경험 (trial_experience_sensitive)**: 무료 체험이나 샘플에 대한 민감도

#### **🏢 브랜드 (Brand) - 0.0 ~ 1.0 점수**
브랜드에 대한 인식과 신뢰도를 분석합니다:
- **브랜드충성도 (brand_loyalty)**: 특정 브랜드에 대한 충성도
- **향수 (nostalgia)**: 과거에 대한 그리움이나 추억에 대한 반응
- **공식신뢰 (trust_in_official)**: 공식 채널이나 인증된 서비스에 대한 신뢰
- **수상증명 (award_proof_sensitive)**: 수상 경력이나 인증에 대한 민감도
- **국내신뢰 (local_trust_factor)**: 한국 내에서의 신뢰도
- **글로벌신뢰 (global_trust_factor)**: 해외에서의 신뢰도

#### **💰 상거래 (Commerce) - 0.0 ~ 1.0 점수**
구매 행동과 금전적 성향을 분석합니다:
- **가격민감도 (price_sensitivity)**: 가격에 대한 민감도
- **프리미엄지불의향 (premium_willingness)**: 고급 서비스에 대한 지불 의향
- **거래빈도 (transaction_frequency)**: 자주 구매하는 성향
- **위험감수성 (risk_tolerance)**: 금전적 위험을 감수하는 성향
- **정기결제 (recurring_payment)**: 구독형 서비스에 대한 선호도
- **고액구매의도 (big_purchase_intent)**: 큰 금액을 지출할 의도

### **데이터 호환성**
- **UI 표시**: 한국어로 직관적인 이해
- **JSON 저장**: 영어로 데이터 호환성 유지
- **CSV 다운로드**: 원본 데이터 구조와 완전 호환

## 🔧 기술 스택

- **프론트엔드**: Streamlit
- **AI API**: Google Gemini 1.5 Flash 8B
- **백엔드**: Python
- **의존성**: requests, python-dotenv

## 📁 파일 구조

```
IVE_Clas/
├── app.py              # 메인 Streamlit 애플리케이션
├── requirements.txt    # Python 의존성
├── README.md          # 프로젝트 문서
└── .env               # 환경 변수 (사용자가 생성)
```

## ⚠️ 주의사항

- Gemini API 키가 필요합니다
- 인터넷 연결이 필요합니다
- API 사용량에 따라 비용이 발생할 수 있습니다

## 🔄 원본 스크립트와의 차이점

이 Streamlit 앱은 원본 `ad_classifier.py` 스크립트와 동일한 분류 로직을 사용하지만, 다음과 같은 차이점이 있습니다:

- **입력 방식**: CSV 파일 대신 웹 폼을 통한 직접 입력
- **처리 방식**: 배치 처리 대신 단일 광고 실시간 처리
- **결과 표시**: JSON 파일 저장 대신 웹 UI에서 시각적 표시
- **한국어 UI**: 모든 결과를 한국어로 표시하여 직관적인 이해 가능
- **다운로드 옵션**: JSON(영어)과 CSV 두 가지 형태로 결과 다운로드 가능
- **데이터 구조 설명**: 앱 내에서 json_total.csv 테이블 구조에 대한 상세한 설명 제공
- **완전한 필드 지원**: ads_idx, ads_code를 포함한 모든 필드 입력 및 출력 지원
- **사용자 경험**: 명령줄 인터페이스 대신 웹 기반 인터페이스
